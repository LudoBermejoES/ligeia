<header class="header bg-card border-b border-border px-4 py-3 flex items-center justify-between">
  <!-- Brand Section -->
  <div class="brand flex items-center gap-3">
    <img class="app-logo w-8 h-8 rounded" src="src/icons/icon.png" alt="Ligeia logo" />
    <span class="text-lg font-semibold text-text hidden sm:inline">Ligeia</span>
  </div>
  
  <!-- Controls Section -->
  <div class="controls flex items-center gap-2 flex-wrap">
    <!-- Library Actions Menu -->
    <div class="library-actions-dropdown relative">
      <button id="libraryActionsBtn" 
              class="btn btn-primary px-3 py-1.5 bg-accent text-white rounded text-sm font-medium
                     hover:bg-green-600 transition-colors duration-200 whitespace-nowrap flex items-center gap-1" 
              title="Library Actions">
        âš¡ Actions
        <svg class="w-4 h-4 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
      </button>
      
      <div id="libraryActionsMenu" 
           class="library-actions-menu absolute top-full left-0 mt-1 w-48 bg-card border border-border rounded-lg shadow-lg z-50 hidden">
        <div class="py-1">
          <!-- File Operations -->
          <div class="px-3 py-1 text-xs font-medium text-muted uppercase tracking-wide">File Operations</div>
          <button id="loadFiles" 
                  class="menu-item w-full text-left px-3 py-2 text-sm text-text hover:bg-hover transition-colors duration-150 flex items-center gap-2">
            ğŸ“‚ Load Sounds
          </button>
          <button id="loadDirectory" 
                  class="menu-item w-full text-left px-3 py-2 text-sm text-text hover:bg-hover transition-colors duration-150 flex items-center gap-2">
            ğŸ“ Load Directory
          </button>
          <button id="bulkTagEditor" 
                  class="menu-item w-full text-left px-3 py-2 text-sm text-text hover:bg-hover transition-colors duration-150 flex items-center gap-2">
            ğŸ·ï¸ Bulk Tag Editor
          </button>
          
          <div class="border-t border-border my-1"></div>
          
          <!-- Data Operations -->
          <div class="px-3 py-1 text-xs font-medium text-muted uppercase tracking-wide">Data Operations</div>
          <button id="exportData" 
                  class="menu-item w-full text-left px-3 py-2 text-sm text-text hover:bg-hover transition-colors duration-150 flex items-center gap-2">
            ğŸ“¤ Export Library
          </button>
          <button id="importData" 
                  class="menu-item w-full text-left px-3 py-2 text-sm text-text hover:bg-hover transition-colors duration-150 flex items-center gap-2">
            ğŸ“¥ Import Library
          </button>
          <button id="storeTagsInFiles" 
                  class="menu-item w-full text-left px-3 py-2 text-sm text-text hover:bg-hover transition-colors duration-150 flex items-center gap-2">
            ğŸ“ Store Tags
          </button>
          
          <div class="border-t border-border my-1"></div>
          
          <!-- Processing -->
          <div class="px-3 py-1 text-xs font-medium text-muted uppercase tracking-wide">Processing</div>
          <button id="calculateDurations" 
                  class="menu-item w-full text-left px-3 py-2 text-sm text-text hover:bg-hover transition-colors duration-150 flex items-center gap-2">
            â±ï¸ Calculate Dur/BPM
          </button>
        </div>
      </div>
    </div>
    
    <!-- Panel & Playback Controls -->
    <div class="flex items-center gap-1">
      <button id="virtual-folders-btn" 
              class="btn btn-secondary px-3 py-1.5 bg-gray-600 text-white rounded text-sm font-medium
                     hover:bg-gray-700 transition-colors duration-200 whitespace-nowrap" 
              title="Virtual Folders">
        ğŸ“ Folders
      </button>
      
      <button id="stopAll" 
              class="btn btn-danger px-3 py-1.5 bg-red-600 text-white rounded text-sm font-medium
                     hover:bg-red-700 transition-colors duration-200 whitespace-nowrap" 
              title="Stop all playback">
        â¹ï¸ Stop All
      </button>
    </div>
    
    <!-- Master Volume Control -->
    <div class="topbar-master-volume flex items-center gap-2 ml-2 px-3 py-1.5 bg-bg rounded border border-border" 
         title="Master volume">
      <button id="masterMute" 
              class="mute-btn text-lg hover:text-accent transition-colors duration-200" 
              aria-label="Toggle Master Mute">
        ğŸ”Š
      </button>
      
      <input type="range" 
             id="masterVolumeSlider" 
             min="0" max="100" value="50" 
             class="volume-slider w-20 h-1 bg-border rounded appearance-none cursor-pointer
                    [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 
                    [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full 
                    [&::-webkit-slider-thumb]:bg-accent [&::-webkit-slider-thumb]:cursor-pointer" 
             aria-label="Master Volume">
      
      <span class="volume-display text-xs text-muted min-w-[2rem] text-right" aria-live="polite">
        50%
      </span>
    </div>
  </div>
</header>
